import{ai as l,aj as i,ak as o}from"./index-87dc6a3d.js";import{f as n,a as d}from"./goodsApi-e52c28cf.js";function c(t={}){return l({url:"/manage-api/v1/carousels",method:"get",params:t})}function u(t={}){return l({url:"/manage-api/v1/carousels",method:"put",data:t})}function m(t={}){return l({url:"/manage-api/v1/carousels",method:"post",data:t})}function r(t={}){return l({url:"/manage-api/v1/carousels",method:"delete",data:t})}function h(t={configType:"3"}){return l({url:"/manage-api/v1/indexConfigs",method:"get",params:t})}function f(t={}){return l({url:"/manage-api/v1/indexConfigs",method:"put",data:{...t,configType:"3"}})}function p(t={}){return l({url:"/manage-api/v1/indexConfigs",method:"post",data:{...t,configType:"3"}})}function C(t={}){return l({url:"/manage-api/v1/indexConfigs",method:"delete",data:t})}function S(t={configType:"4"}){return l({url:"/manage-api/v1/indexConfigs",method:"get",params:t})}function L(t={}){return l({url:"/manage-api/v1/indexConfigs",method:"put",data:{...t,configType:"4"}})}function P(t={}){return l({url:"/manage-api/v1/indexConfigs",method:"post",data:{...t,configType:"4"}})}function k(t={}){return l({url:"/manage-api/v1/indexConfigs",method:"delete",data:t})}const y=i("home",{state:()=>({carouselList:[],goodsList:[],seckillList:[],recommendList:[],currPage:1,pageSize:10,totalCount:0,totalPage:0,goodsPage:1,goodsSize:10,goodsCount:0,goodsTotalPage:0,goodsFilter:"",goodsSellStatus:0}),actions:{getCarouselList(t,e){return c({pageNumber:t,pageSize:e}).then(a=>{a.status==200?a.data.resultCode==200?(console.log("获取轮播图列表成功---"),this.carouselList=a.data.data.list,this.totalCount=a.data.data.totalCount,this.totalPage=a.data.data.totalPage):console.log("获取轮播图列表失败---",a.data.message):console.log("请求获取轮播图列表失败---",a)})},getCarouselEdit(t){return u(t).then(e=>{e.status==200?e.data.resultCode==200?(console.log("修改轮播图成功---"),o.success({message:e.data.message}),this.getCarouselList(this.currPage,this.pageSize)):(o.error({message:e.data.message}),console.log("修改轮播图失败---",e.data.message)):console.log("请求修改轮播图失败---",e)})},getCarouselAdd(t){return m(t).then(e=>{e.status==200?e.data.resultCode==200?(console.log("新增轮播图成功---"),o.success({message:e.data.message}),this.getCarouselList(this.currPage,this.pageSize)):(o.error({message:e.data.message}),console.log("新增轮播图失败---",e.data.message)):console.log("请求新增轮播图失败---",e)})},getCarouselDelete(t){return r(t).then(e=>{e.status==200?e.data.resultCode==200?(console.log("删除轮播图成功---"),o.success({message:e.data.message}),this.getCarouselList(this.currPage,this.pageSize)):(o.error({message:e.data.message}),console.log("删除轮播图失败---",e.data.message)):console.log("请求删除轮播图失败---",e)})},getGoodsList(t,e,a,s){return n({pageNumber:t,pageSize:e,goodsName:a,goodsSellStatus:s}).then(g=>{g.status==200?g.data.resultCode==200?(console.log("获取商品列表成功---"),this.goodsList=g.data.data.list,this.goodsCount=g.data.data.totalCount,this.goodsTotalPage=g.data.data.totalPage):console.log("获取商品列表失败---",g.data.message):console.log("请求获取商品列表失败---",g)})},getGoodDetail(t,e,a){return d(t).then(s=>{s.status==200?s.data.resultCode==200?(console.log("获取单个商品信息成功---"),a=="seckill"?this.seckillList[e].goodDetail=s.data.data.goods:this.recommendList[e].goodDetail=s.data.data.goods):console.log("获取单个商品信息失败---",s.data.message):console.log("请求获取单个商品信息失败---",s)})},getSeckillList(t,e){return h({pageNumber:t,pageSize:e,configType:3}).then(a=>{a.status==200?a.data.resultCode==200?(console.log("获取秒杀列表成功---"),this.seckillList=a.data.data.list,this.totalCount=a.data.data.totalCount,this.totalPage=a.data.data.totalPage,this.seckillList.forEach((s,g)=>{this.getGoodDetail(s.goodsId,g,"seckill")})):console.log("获取秒杀列表失败---",a.data.message):console.log("请求获取秒杀列表失败---",a)})},getSeckillEdit(t){return f({...t,configType:3}).then(e=>{e.status==200?e.data.resultCode==200?(console.log("修改秒杀成功---"),o.success({message:e.data.message}),this.getSeckillList(this.currPage,this.pageSize)):(o.error({message:e.data.message}),console.log("修改秒杀失败---",e.data.message)):console.log("请求修改秒杀失败---",e)})},getSeckillAdd(t){return p({...t,configType:3}).then(e=>{e.status==200?e.data.resultCode==200?(console.log("新增秒杀成功---"),o.success({message:e.data.message}),this.getSeckillList(this.currPage,this.pageSize)):(o.error({message:e.data.message}),console.log("新增秒杀失败---",e.data.message)):console.log("请求新增秒杀失败---",e)})},getSeckillDelete(t){return C(t).then(e=>{e.status==200?e.data.resultCode==200?(console.log("删除秒杀成功---"),o.success({message:e.data.message}),this.getSeckillList(this.currPage,this.pageSize)):(o.error({message:e.data.message}),console.log("删除秒杀失败---",e.data.message)):console.log("请求删除秒杀失败---",e)})},getRecommendList(t,e){return S({pageNumber:t,pageSize:e,configType:4}).then(a=>{a.status==200?a.data.resultCode==200?(console.log("获取推荐列表成功---"),this.recommendList=a.data.data.list,this.totalCount=a.data.data.totalCount,this.totalPage=a.data.data.totalPage,this.recommendList.forEach((s,g)=>{this.getGoodDetail(s.goodsId,g,"recommend")})):console.log("获取推荐列表失败---",a.data.message):console.log("请求获取推荐列表失败---",a)})},getRecommendEdit(t){return console.log("修改推荐",t),L({...t,configType:4}).then(e=>{e.status==200?e.data.resultCode==200?(console.log("修改推荐成功---"),o.success({message:e.data.message}),this.getRecommendList(this.currPage,this.pageSize)):(o.error({message:e.data.message}),console.log("修改推荐失败---",e.data.message)):console.log("请求修改推荐失败---",e)})},getRecommendAdd(t){return P({...t,configType:4}).then(e=>{e.status==200?e.data.resultCode==200?(console.log("新增推荐成功---"),o.success({message:e.data.message}),this.getRecommendList(this.currPage,this.pageSize)):(o.error({message:e.data.message}),console.log("新增推荐失败---",e.data.message)):console.log("请求新增推荐失败---",e)})},getRecommendDelete(t){return k(t).then(e=>{e.status==200?e.data.resultCode==200?(console.log("删除推荐成功---"),o.success({message:e.data.message}),this.getRecommendList(this.currPage,this.pageSize)):(o.error({message:e.data.message}),console.log("删除推荐失败---",e.data.message)):console.log("请求删除推荐失败---",e)})}}});export{y as u};
