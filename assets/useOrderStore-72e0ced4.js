import{ai as d,aj as n,ak as o}from"./index-87dc6a3d.js";function u(t={}){return d({url:"/manage-api/v1/orders",method:"get",params:t})}function c(t){return d({url:`/manage-api/v1/orders/${t}`,method:"get"})}function h(t={}){return d({url:"/manage-api/v1/orders/checkDone",method:"put",data:t})}function m(t={}){return d({url:"/manage-api/v1/orders/checkOut",method:"put",data:t})}function f(t={}){return d({url:"/manage-api/v1/orders/close",method:"put",data:t})}const O=n("orders",{state:()=>({ordersList:[],ordersPage:1,ordersSize:10,ordersCount:0,ordersTotalPage:0,ordersFilter:"",orderStatus:""}),actions:{getOrdersList(t,e,s,i){const a={};return a.pageNumber=t,a.pageSize=e,s==""||(a.orderNo=s),i==""||(a.orderStatus=i),console.log(a),u(a).then(r=>{r.status==200?r.data.resultCode==200?(console.log("获取订单列表成功---"),this.ordersList=r.data.data.list,this.ordersCount=r.data.data.totalCount,this.ordersTotalPage=r.data.data.totalPage,this.ordersList.forEach((l,g)=>{this.getOrderDetail(l.orderId,g)})):console.log("获取订单列表失败---",r.data.message):console.log("请求获取订单列表失败---",r)})},getOrdersPrepare(t){return h(t).then(e=>{e.status==200?e.data.resultCode==200?(console.log("配货成功---"),o.success({message:e.data.message}),this.getOrdersList(this.ordersPage,this.ordersSize,this.ordersFilter,this.orderStatus)):(o.error({message:e.data.message}),console.log("配货失败---",e.data.message)):console.log("请求配货失败---",e)})},getOrdersDeliver(t){return m(t).then(e=>{e.status==200?e.data.resultCode==200?(console.log("出库成功---"),o.success({message:e.data.message}),this.getOrdersList(this.ordersPage,this.ordersSize,this.ordersFilter,this.orderStatus)):(o.error({message:e.data.message}),console.log("出库失败---",e.data.message)):console.log("请求出库失败---",e)})},getOrdersClose(t){return f(t).then(e=>{e.status==200?e.data.resultCode==200?(console.log("关闭订单成功---"),o.success({message:e.data.message}),this.getOrdersList(this.ordersPage,this.ordersSize,this.ordersFilter,this.orderStatus)):(o.error({message:e.data.message}),console.log("关闭订单失败---",e.data.message)):console.log("请求关闭订单失败---",e)})},getOrderDetail(t,e){return c(t).then(s=>{s.status==200?s.data.resultCode==200?(console.log("获取单个订单信息成功---"),this.ordersList[e].orderDetail=s.data.data.newBeeMallOrderItemVOS,this.ordersList[e].payTime=s.data.data.payTime,this.ordersList[e].payTypeString=s.data.data.payTypeString,this.ordersList[e].totalPrice=s.data.data.totalPrice):console.log("获取单个订单信息失败---",s.data.message):console.log("请求获取单个订单信息失败---",s)})}}});export{O as u};
